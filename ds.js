!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("ds",[],e):"object"==typeof exports?exports.ds=e():n.ds=e()}(this,(function(){return function(n){function e(e){for(var i,r,a=e[0],l=e[1],c=e[2],d=0,f=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(n[i]=l[i]);for(u&&u(e);f.length;)f.shift()();return s.push.apply(s,c||[]),t()}function t(){for(var n,e=0;e<s.length;e++){for(var t=s[e],i=!0,a=1;a<t.length;a++){var l=t[a];0!==o[l]&&(i=!1)}i&&(s.splice(e--,1),n=r(r.s=t[0]))}return n}var i={},o={3:0},s=[];function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=i,r.d=function(n,e,t){r.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,e){if(1&e&&(n=r(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)r.d(t,i,function(e){return n[e]}.bind(null,i));return t},r.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(e,"a",e),e},r.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},r.p="/";var a=this.webpackJsonp_name_=this.webpackJsonp_name_||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=l;return s.push([25,0,7]),t()}({25:function(n,e,t){function i(){t(26)}var o=function(){return["findIndex"in Array.prototype?0:1,"values"in Object?0:1,"Promise"in this?0:1,"fetch"in this?0:1]}.call(window);if(-1===o.indexOf(1))i();else{var s=document.createElement("script");s.src="/polyfills."+o.join("")+".js",s.onload=i,s.onerror=function(n){console.error("Could not load the polyfills: "+n)},document.head.appendChild(s)}},26:function(n,e,t){"use strict";t.r(e),function(n){t(48);var e=t(2),i=t(9),o=t(10),s=t(11),r=t(12),a=t(13),l=t(0),c=t.n(l);t(30);e.a.autoReplaceSvg="nest",e.c.add(i.faPlusSquare,o.faPen,s.faSearch,r.faAngleRight,a.faTimes),e.b.watch(),window.jQuery=c.a,window.$=c.a,n.$=c.a;var u=t(27),d=u.compile(t(34)),f=u.compile(t(35)),h=u.compile(t(36)),p=u.compile(t(37));c()(document).ready((function(){var n=null;c()("#search").on("hidden.bs.collapse",(function(n){c()("#choose").toggleClass("d-none"),c()("#search").toggleClass("d-none"),c()("#searchinput").val("")})).on("shown.bs.collapse",(function(n){c()("#choose").toggleClass("d-none"),c()("#search").toggleClass("d-none"),c()("#searchinput").focus()})),c()("#ds-search-list").on("show.bs",(function(e){n=setTimeout((function(){c()("#searching").show()}),500)})).on("hide.bs",(function(e){c()("#searching").hide(),n&&clearTimeout(n)})),c()("#add_button").on("click",(function(n){n.preventDefault(),c()("#choose").toggleClass("d-none"),c()("#search").toggleClass("d-none")})),c()("#edit_button").on("click",(function(n){n.preventDefault(),c()("#choosetools").toggleClass("d-none"),c()("#done_button").toggleClass("d-none").toggleClass("display-block"),c()("#savedchoices").removeClass("choose").addClass("edit"),c()(".institution-text").addClass("item-fade"),c()(".institution-icon").addClass("item-fade"),c()(".institution-select").toggleClass("d-none"),c()(".institution-remove").toggleClass("d-none")})),c()("#done_button").on("click",(function(n){n.preventDefault(),c()("#done_button").toggleClass("d-none").toggleClass("display-block"),c()("#choosetools").toggleClass("d-none"),c()("#savedchoices").removeClass("edit").addClass("choose"),c()(".institution-text").removeClass("item-fade"),c()(".institution-icon").removeClass("item-fade"),c()(".institution-select").toggleClass("d-none"),c()(".institution-remove").toggleClass("d-none")})),c()("#dsclient").discovery_client({mdq:"https://md.thiss.io/entities/",persistence:"https://use.thiss.io/ps/",search:"https://md.thiss.io/entities/",inputfieldselector:"#searchinput",render_search_result:function(e){return console.log("render_search_result"),n&&(clearTimeout(n),n=null),c()("#searching").hide(),d.render(e)},render_saved_choice:function(n){return f.render(n)},too_many_results:function(e){return n&&(clearTimeout(n),n=null),c()("#searching").hide(),h.render({count:e})},no_results:function(){return n&&(clearTimeout(n),n=null),c()("#searching").hide(),p.render()},after:function(n,e){console.log("after - "+n),c()("#searching").hide(),0==n?(c()("#search").removeClass("d-none"),c()("#choose").addClass("d-none"),c()("#searchinput").focus()):(c()("#choose").removeClass("d-none"),c()("#search").addClass("d-none"))}}).discovery_client("sp").then((function(n){return c()(".sp_title").text(n.title)}))}))}.call(this,t(1))},34:function(n,e){n.exports='<a class="institution identityprovider" tabindex="0" data-href="{{entity_id}}">\n    <li><i class="arrow fa fa-angle-right"></i>\n        <div class="d-block institution-text">\n            <div class="text-truncate label primary">{{title}}</div>\n            <div class="text-truncate label-url secondary">{{domain}}</div>\n        </div>\n    </li>\n</a>'},35:function(n,e){n.exports='<a class="identityprovider" tabindex="0" data-href="{{entity_id}}">\n    <li class="institution clearfix">\n        <i class="institution-remove remove top-right fa fa-times d-none"></i>\n        {{#entity_icon}}\n        <div class="institution-mask">\n            <img class="institution-icon" alt="{{name_tag}}" src="{{entity_icon}}" />\n        </div>\n        {{/entity_icon}}\n        {{#entity_icon_url}}\n        <div class="institution-mask">\n            <img class="institution-icon" alt="{{name_tag}}" src="{{entity_icon_url.url}}" />\n        </div>\n        {{/entity_icon_url}}\n        {{^entity_icon_url}}\n        {{^entity_icon}}\n            <svg class="institution-icon logo"\n                 width="40"\n                 height="40">\n                <circle cx="20" cy="20" r="20" fill="#aeaeae" />\n                <text x="50%"\n                      y="50%"\n                      text-anchor="middle"\n                      fill="white"\n                      font-size="12px"\n                      font-family="Arial"\n                      dy=".3em">{{name_tag}}</text>\n            </svg>\n        {{/entity_icon}}\n        {{/entity_icon_url}}\n        <div class="institution-text">\n            <i class="institution-select arrow fa fa-angle-right"></i>\n            <div class="primary">{{title}}</div>\n            <span class="secondary">{{domain}}</span>\n        </div>\n    </li>\n</a>\n'},36:function(n,e){n.exports='<li class="type-ahead-alert">\n    <div role="alert">\n        <p><span class="bold">{{count}} Matches</span> keep typing to refine your search</p>\n    </div>\n</li>'},37:function(n,e){n.exports='<li>\n    <div class="no-results-alert" role="alert">\n        <h3 class="bold">No matching institutions found</h3>\n        <ul>\n            <li>Try entering an institution name, abbreviation or your institution email</li>\n            <li>Try accessing through your library website</li>\n            <li>Contact your librarian</li>\n        </ul>\n    </div>\n</li>'},48:function(n,e){}})}));